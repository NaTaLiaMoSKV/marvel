{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-c3c6c5c36a6e2a7e.js","src/js/characters.js","src/js/modal-window.js","node_modules/@parcel/runtime-js/lib/runtime-518ec23308264006.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"e6U35\\\":\\\"characters.9c181566.js\\\",\\\"4KppS\\\":\\\"placeholder3.c0dfba28.jpg\\\",\\\"jSf26\\\":\\\"index.90b3fc40.js\\\"}\"));","import { fetchCharactersByFilter } from './fetchCharacters';\nimport { addEventListenersForModal } from './modal-window';\n\nconst dropdownToggle = document.querySelector('.dropdown-toggle');\nconst dropdownList = document.querySelector('.dropdown-list');\nconst dropdownText = document.querySelector('.dropdown-text');\nconst dropdownItems = document.querySelectorAll('.dropdown-item');\n\nconst dateInput = document.querySelector('[name=\"date\"]');\nconst nameStartsWithInput = document.querySelector('[name=\"nameStartsWith\"]');\nconst comicsInput = document.querySelector('[name=\"comics\"]');\nconst searchButtons = document.querySelectorAll('.search-form__button');\n\nsetCurrentDate();\n\ndropdownToggle.addEventListener('click', function (event) {\n    event.preventDefault();\n    dropdownList.classList.toggle('show');\n    dropdownItems.forEach(item => {\n        if (item.textContent == dropdownText.textContent) {\n            item.classList.add('active')\n        }\n    })\n});\n\ndocument.addEventListener('click', function (event) {    \n    const targetElement = event.target;\n\n    if (!dropdownToggle.contains(targetElement) && !dropdownList.contains(targetElement)) {\n        dropdownList.classList.remove('show');\n    }\n});\n\n\ndropdownList.addEventListener('click', function (event) {\n\n    if (event.target !== dropdownList && dropdownText.textContent !== event.target.textContent) {\n        dropdownText.textContent = event.target.textContent;\n        dropdownList.classList.remove('show');\n        dropdownItems.forEach(item => {\n            item.classList.remove('active')\n        })\n        getCharactersByFilter();\n    }\n    \n});\n\ndateInput.addEventListener('change', function(event) {\n    getCharactersByFilter();\n});\n\ndropdownText.addEventListener('input', function (event) {\n    getCharactersByFilter();\n});\n\nsearchButtons.forEach(button => {\n    button.addEventListener('click', function (event) {\n        event.preventDefault();\n        getCharactersByFilter();\n    });\n})\n\nfunction setCurrentDate() {\n    const currentDate = new Date();\n    const year = currentDate.getFullYear();\n    let month = currentDate.getMonth() + 1;\n    let day = currentDate.getDate();\n\n    month = month < 10 ? '0' + month : month;\n    day = day < 10 ? '0' + day : day;\n\n    dateInput.value = `${year}-${month}-${day}`;\n    dateInput.setAttribute('max', `${year}-${month}-${day}`);\n}\n\nasync function getCharactersByFilter() {\n    if (dropdownText.textContent === 'Name') {\n        \n    }\n    const comics = comicsInput.value;\n    const nameStartsWith = nameStartsWithInput.value;\n    const orderBy = dropdownText.textContent.toLowerCase();\n    const modifiedSince = orderBy == 'name' ? '' : dateInput.value;\n    const res = await fetchCharactersByFilter(comics, nameStartsWith, orderBy, modifiedSince);\n    createCardsMarkup(res);\n}\n\nfunction createCardsMarkup(characters) {\n    const cardList = document.querySelector('.cards');\n    let markup = '';\n\n    if (characters.length > 0) {\n        markup = characters\n        .map((char) => `<li class=\"card\" data-id=\"${char.id}\" data-modal-open>\n                <img class=\"card__img\" src=\"${char.thumbnail.path}/portrait_uncanny.${char.thumbnail.extension}\" alt=\"${char.name}\">\n                <p class=\"card__name\">${char.name}</p>\n            </li>`)\n        .join(\"\");\n    } else {\n        markup = `<div class=\"card-notification\">\n            <p class=\"card-notification__text\">Try looking for something else..</p>\n            <svg class=\"card-notification__svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"259\" height=\"146\" viewBox=\"0 0 259 146\" fill=\"none\">\n                <path\n                    d=\"M50.6437 13.7179C67.8429 31.6065 39.127 47.8872 21.7727 41.6849C28.3675 47.3536 26.8436 68.9829 1.51961 68.6306C26.8554 75.9969 22.7911 99.2222 12.7453 110.931C33.0048 100.405 56.3669 114.419 55.1102 132.39C63.5744 117.585 105.686 122.495 108.296 141.042C116.502 133.701 159.491 128.648 166.69 143.892C172.818 132.632 199.798 124.885 217.444 139.631C217.414 121.888 226.643 106.608 256.694 107.026C230.285 93.4207 234.201 56.8472 252.347 50.8337C230.503 55.482 214.11 33.6715 222.556 15.5604C211.968 29.5247 173.711 30.6528 164.538 11.5033C155.083 21.2767 126.683 13.9653 123.352 2.15445C124.144 11.8731 110.229 16.4583 96.9884 10.5634C93.2356 28.8775 55.8026 27.1041 50.6437 13.7179Z\"\n                    stroke=\"#34387F\" stroke-width=\"3\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n            </svg>\n        </div>`;\n    }\n    \n    cardList.innerHTML = markup;\n    addEventListenersForModal();\n    \n    \n}\n\n","import { fetchCharacterById, fetchComics, fetchComicById, fetchComicCharacters, fetchCreator } from \"./fetchCharacters\";\nimport placeholderImage from '../images/placeholder3.jpg'\nconst modal = document.querySelector('[data-modal]');\nconst modalCard = document.querySelector('.modal-card');\nconst modalClose = document.querySelector('[data-modal-close]');\n\nexport function addEventListenersForModal() {\n    addCharactersButtonsEventListener();\n\n    window.addEventListener('keydown', onKeyDown);\n    document.addEventListener('click', onBackdropClick);\n    modalClose.addEventListener('click', onModalCloseBtnClick);\n}\n\nfunction onModalCloseBtnClick() {\n    modal.classList.add('is-hidden');\n    renderPlaceholderMarkup();\n} \n\nfunction onKeyDown(e) {\n    if (e.keyCode == 27 && !modal.classList.contains('is-hidden')) {\n        modal.classList.add('is-hidden');\n        renderPlaceholderMarkup();\n        window.removeEventListener('keydown', onKeyDown);\n    }\n}\n    \nfunction onBackdropClick(e) {\n    if (e.target.classList.contains('backdrop')) {\n        modal.classList.add('is-hidden');\n        renderPlaceholderMarkup();\n        document.removeEventListener('click', onBackdropClick);\n    }\n}\n\nfunction renderTime(inputTime) {\n    const date = new Date(inputTime);\n\n    const months = [\n        \"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n        \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n    ];\n\n    const day = date.getDate();\n    const month = months[date.getMonth()];\n    const year = date.getFullYear();\n\n    const formattedTime = `${month} ${day}, ${year}`;\n\n    return formattedTime;\n}\n\nfunction renderPlaceholderMarkup() {\n    const placeholderMarkup = `<div class=\"modal-images\">\n                <img class=\"modal-images__main-img\" src=${placeholderImage} alt=\"main image\">\n                </div>\n                <div class=\"modal-info\">\n                    <div class=\"modal-info__character\">\n                        <div class=\"modal-info__character-info\">\n                            <h2 class=\"modal-info__character-name\">Character name</h2>\n                            <p class=\"modal-info__character-date\">last modified date</p>\n                        </div>\n                        <p class=\"modal-info__character-description\">\n                            Character description\n                        </p>\n                    </div>\n                    <div class=\"modal-info__comics\">\n                        <h2 class=\"modal-info__comics-name\">List of comics</h2>\n                        \n                        <ul class=\"modal-info__comics-list\">\n                            <li class=\"modal-info__comics-item\" data-modal-comics>\n                                <img class=\"modal-info__comics-img\" src=${placeholderImage} alt=\"comics\">\n                                <h3 class=\"modal-info__comics-title\"></h3>\n                                <p class=\"modal-info__comics-author\"></p>\n                            </li>\n                            <li class=\"modal-info__comics-item\" data-modal-comics>\n                                <img class=\"modal-info__comics-img\" src=${placeholderImage} alt=\"comics\">\n                                <h3 class=\"modal-info__comics-title\"></h3>\n                                <p class=\"modal-info__comics-author\"></p>\n                            </li>\n                            <li class=\"modal-info__comics-item\" data-modal-comics>\n                                <img class=\"modal-info__comics-img\" src=${placeholderImage} alt=\"comics\">\n                                <h3 class=\"modal-info__comics-title\"></h3>\n                                <p class=\"modal-info__comics-author\"></p>\n                            </li>\n                        </ul>\n                    </div>\n                </div>`;\n    modalCard.innerHTML = placeholderMarkup;\n    \n}\n\nfunction addCharactersButtonsEventListener() {\n    const modalOpenButtons = document.querySelectorAll('.card');\n\n    modalOpenButtons.forEach(item => {\n        item.addEventListener('click', async (e) => {\n            \n            modal.classList.remove('is-hidden');\n            const characterId = e.currentTarget.dataset.id;\n            const character = await fetchCharacterById(characterId);\n            \n            await renderCharacterModalCard(character);\n            \n            window.addEventListener('keydown', onKeyDown);\n            document.addEventListener('click', onBackdropClick);\n            modalClose.addEventListener('click', onModalCloseBtnClick);\n            \n        });\n    });\n}\n\nfunction addComicsButtonsEventListener() {\n    const modalComicsOpenButtons = document.querySelectorAll('.modal-info__comics-item');\n\n    modalComicsOpenButtons.forEach(item => {\n        item.addEventListener('click', async (e) => {\n            const comicId = e.currentTarget.dataset.id;\n            // console.log(comicId)\n            const comic = await fetchComicById(comicId);\n            await renderComicModalMarkup(comic);\n            \n\n            window.addEventListener('keydown', onKeyDown);\n            document.addEventListener('click', onBackdropClick);\n            modalClose.addEventListener('click', onModalCloseBtnClick);\n        });\n    });\n}\n\n\nasync function renderCharacterModalCard(char) {\n    let comicsListMarkup = '';\n    const comics = await fetchComics(char.id);\n\n    if (comics.length !== 0) {\n        let comicsMarkup = '';\n\n        for (let i = 0; i < 3; i++) {\n            const com = comics[i];\n\n            if (com.title.length > 18) {\n                com.title = com.title.substring(0, 20) + ' ...';\n            }\n\n            if (!com.creators.items[0]) {\n                com.creators.items[0] = { name: 'Without author' };\n            }\n\n            comicsMarkup += `\n                <li class=\"modal-info__comics-item\" data-id=\"${com.id}\" data-modal-comics>\n                    <img class=\"modal-info__comics-img\" data-id=${com.id} src=\"${com.thumbnail.path}/portrait_xlarge.${com.thumbnail.extension}\" alt=\"comics\">\n                    <h3 class=\"modal-info__comics-title\">${com.title}</h3>\n                    <p class=\"modal-info__comics-author\">${com.creators.items[0].name}</p>\n                </li>\n            `;\n        }\n\n        comicsListMarkup = `\n            <h2 class=\"modal-info__comics-name\">List of comics</h2>\n            <ul class=\"modal-info__comics-list\">\n                ${comicsMarkup}\n            </ul>\n        `\n    }\n    else comicsListMarkup = '<h2 class=\"modal-info__comics-name\">No comics with the character</h2>';\n\n    if (char.description == '') {\n        char.description = `${char.name} is one of the characters in the marvel universe. To read the comics of this character, click on the cover of the comic.`\n    }\n\n    const markup = `\n        <div class=\"modal-images\">\n            <img class=\"modal-images__main-img\" src=\"${char.thumbnail.path}/portrait_xlarge.${char.thumbnail.extension}\" alt=\"${char.name}\">\n        </div>\n        <div class=\"modal-info\">\n            <div class=\"modal-info__character\">\n                <div class=\"modal-info__character-info\">\n                    <h2 class=\"modal-info__character-name\">${char.name}</h2>\n                    <p class=\"modal-info__character-date\">${renderTime(char.modified)}</p>\n                </div>\n                <p class=\"modal-info__character-description\">\n                    ${char.description}\n                </p>\n            </div>\n            <div class=\"modal-info__comics\">\n                ${comicsListMarkup}\n            </div>\n        </div> `;\n    \n    modalCard.innerHTML = markup;\n    addComicsButtonsEventListener();\n}\n\nasync function renderComicModalMarkup(comic) {\n    let charactersListMarkup = '';\n    let creatorName = '';\n    let comicDate = 'unknown';\n    let creatorMarkup = '';\n    const characters = await fetchComicCharacters(comic.id);\n\n    if (characters.length !== 0) {\n        let charactersMarkup = '';\n        let count = characters.length < 10 ? characters.length : 9;\n\n        for (let i = 0; i < count; i++) {\n            const char = characters[i];\n\n            if (char.name.length > 20) {\n                char.name = char.name.substring(0, 18) + ' ...';\n            }\n\n            charactersMarkup += `\n               <li class=\"comic__character card\" data-id=${char.id}>\n                    <img class=\"comic__character-img\" src=\"${char.thumbnail.path}/standard_xlarge.${char.thumbnail.extension}\" alt=\"comic character\">\n                    <p class=\"comic__character-name\">${char.name}</p>\n                </li>\n            `;\n        }\n        charactersListMarkup = `\n            <h3 class=\"comic-info__title\">Characters</h3>\n                <ul class=\"comic__characters\">\n                    ${charactersMarkup}\n                </ul>\n        `\n    } else charactersListMarkup = '<h3 class=\"comic-info__title\">No characters in the comic</h3>';\n    \n    if (comic.creators.items[0]) {\n        const creator = await fetchCreator(comic.creators.items[0].resourceURI);\n        creatorMarkup = `\n            <h3 class=\"comic-info__title\">Creator</h3>\n            <div class=\"creator\">\n                <img class=\"creator__img\" src=\"${creator.thumbnail.path}/standard_xlarge.${creator.thumbnail.extension}\" alt=\"creator\">\n                <div class=\"creator__info\">\n                    <p class=\"creator__job\">Writer</p>\n                    <p class=\"creator__name\">${creator.fullName}</p>\n                </div>\n            </div>`;\n        creatorName = `${creator.fullName} |`;\n    }\n\n    if (comic.description == '') {\n        comic.description = `${comic.title} is one of the comics in the marvel universe.`\n    }\n\n    if (comic.dates[0].date) {\n        comicDate = comic.dates[0].date.substring(0, 4);\n    }\n\n    com = comic.prices.find(price => price.type === 'printPrice');\n    price = (com.price * 10).toFixed(2);\n\n    const markup = `\n        <div class=\"modal-images\">\n            <img class=\"modal-images__comic-img\" src=\"${comic.thumbnail.path}/portrait_xlarge.${comic.thumbnail.extension}\" alt=\"main image\">\n        </div>\n        <div class=\"comic-info\">\n            <div>\n                <div class=\"comic-info__main\">\n                    <h2 class=\"comic-info__main-title\">${comic.title}</h2>\n                    <p class=\"comic-info__main-date\">${creatorName} ${renderTime(comic.modified)}</p>\n                </div>\n                <p class=\"comic-info__main-description\">\n                    ${comic.description}\n                </p>\n            </div>\n            <div class=\"comic-info__criterions\">\n                <ul class=\"comic-info__list\">\n                    <li class=\"comic-info__item\">\n                        <p class=\"comic-info__criterion\">FORMAT</p>\n                        <p class=\"comic-info__value\">${comic.format}</p>\n                    </li>\n                    <li class=\"comic-info__item\">\n                        <p class=\"comic-info__criterion\">year released</p>\n                        <p class=\"comic-info__value\">${comicDate}</p>\n                    </li>\n                    <li class=\"comic-info__item\">\n                        <p class=\"comic-info__criterion\">pAGES</p>\n                        <p class=\"comic-info__value\">${comic.pageCount}</p>\n                    </li>\n                    <li class=\"comic-info__item\">\n                        <p class=\"comic-info__criterion\">pRICE</p>\n                        <p class=\"comic-info__value\">$${price}</p>\n                    </li>\n                </ul>\n            </div>\n            <div class=\"comic-info__creator\">\n                ${creatorMarkup}\n            </div>\n            <div class=\"comic-info__characters\">\n               ${charactersListMarkup}\n            </div>\n            \n        </div>\n    `\n\n    modalCard.innerHTML = markup;\n    addCharactersButtonsEventListener();\n}","module.exports = require('./helpers/bundle-url').getBundleURL('e6U35') + \"../\" + require('./helpers/bundle-manifest').resolve(\"4KppS\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$47liv","$76d96315c02b7b2d$exports","getBundleURL","resolve","$50be0534152dd275$var$modal","document","querySelector","$50be0534152dd275$var$modalCard","$50be0534152dd275$var$modalClose","$50be0534152dd275$export$7e64e0a27748ce71","$50be0534152dd275$var$addCharactersButtonsEventListener","window","addEventListener","$50be0534152dd275$var$onKeyDown","$50be0534152dd275$var$onBackdropClick","$50be0534152dd275$var$onModalCloseBtnClick","classList","add","$50be0534152dd275$var$renderPlaceholderMarkup","e","keyCode","contains","removeEventListener","target","$50be0534152dd275$var$renderTime","inputTime","date","Date","day","getDate","getMonth","getFullYear","placeholderMarkup","$parcel$interopDefault","innerHTML","querySelectorAll","forEach","item","async","remove","characterId","currentTarget","dataset","character","fetchCharacterById","char","comicsListMarkup","comics","fetchComics","comicsMarkup","com","title","substring","creators","items","name","thumbnail","path","extension","description","markup","modified","comicId","comic","fetchComicById","charactersListMarkup","creatorName","comicDate","creatorMarkup","characters","fetchComicCharacters","charactersMarkup","count","creator","fetchCreator","resourceURI","fullName","dates","prices","find","price","type","toFixed","format","pageCount","$50be0534152dd275$var$renderComicModalMarkup","$50be0534152dd275$var$renderCharacterModalCard","$fd666df8c07d96f6$var$dropdownToggle","$fd666df8c07d96f6$var$dropdownList","$fd666df8c07d96f6$var$dropdownText","$fd666df8c07d96f6$var$dropdownItems","$fd666df8c07d96f6$var$dateInput","$fd666df8c07d96f6$var$nameStartsWithInput","$fd666df8c07d96f6$var$comicsInput","$fd666df8c07d96f6$var$searchButtons","$fd666df8c07d96f6$var$getCharactersByFilter","textContent","nameStartsWith","orderBy","toLowerCase","modifiedSince","cardList","map","join","$fd666df8c07d96f6$var$createCardsMarkup","fetchCharactersByFilter","currentDate","year","month","setAttribute","$fd666df8c07d96f6$var$setCurrentDate","event","preventDefault","toggle","targetElement","button"],"version":3,"file":"characters.9c181566.js.map"}